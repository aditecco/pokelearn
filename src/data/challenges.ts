import type { Challenge, Subject, Difficulty } from "../types";

const POINTS_MAP: Record<Difficulty, number> = {
  Facile: 10,
  Medio: 20,
  Difficile: 30,
};

export const challenges: Challenge[] = [
  {
    id: "ita-2-f-1",
    subject: "Italiano",
    grade: 2,
    difficulty: "Facile",
    type: "multiple-choice",
    question: "Quale di queste parole è un nome?",
    options: ["Correre", "Gatto", "Bello", "Velocemente"],
    correctAnswer: "Gatto",
    points: POINTS_MAP.Facile,
  },
  {
    id: "ita-2-f-2",
    subject: "Italiano",
    grade: 2,
    difficulty: "Facile",
    type: "multiple-choice",
    question: "Quante vocali ci sono nell'alfabeto italiano?",
    options: ["3", "5", "7", "10"],
    correctAnswer: "5",
    points: POINTS_MAP.Facile,
  },
  {
    id: "ita-2-f-3",
    subject: "Italiano",
    grade: 2,
    difficulty: "Facile",
    type: "true-false",
    question: "La parola 'casa' inizia con una consonante.",
    correctAnswer: "true",
    points: POINTS_MAP.Facile,
  },
  {
    id: "ita-2-m-1",
    subject: "Italiano",
    grade: 2,
    difficulty: "Medio",
    type: "multiple-choice",
    question: "Qual è il plurale di 'libro'?",
    options: ["Libri", "Libra", "Libros", "Libroni"],
    correctAnswer: "Libri",
    points: POINTS_MAP.Medio,
  },
  {
    id: "ita-2-m-2",
    subject: "Italiano",
    grade: 2,
    difficulty: "Medio",
    type: "multiple-choice",
    question: "Quale parola è scritta correttamente?",
    options: ["Quore", "Cuore", "Qore", "Cwore"],
    correctAnswer: "Cuore",
    points: POINTS_MAP.Medio,
  },
  {
    id: "ita-2-m-3",
    subject: "Italiano",
    grade: 2,
    difficulty: "Medio",
    type: "fill-blank",
    question: "Completa la frase: Il cane ____ nel giardino.",
    correctAnswer: "corre",
    points: POINTS_MAP.Medio,
  },
  {
    id: "ita-2-d-1",
    subject: "Italiano",
    grade: 2,
    difficulty: "Difficile",
    type: "multiple-choice",
    question: "Quale frase è corretta?",
    options: [
      "Ho mangiato un mela",
      "Ho mangiato una mela",
      "Ho mangiato uno mela",
      "Ho mangiato un' melo",
    ],
    correctAnswer: "Ho mangiato una mela",
    points: POINTS_MAP.Difficile,
  },
  {
    id: "ita-2-d-2",
    subject: "Italiano",
    grade: 2,
    difficulty: "Difficile",
    type: "multiple-choice",
    question: "Qual è il contrario di 'alto'?",
    options: ["Basso", "Lungo", "Corto", "Piccolo"],
    correctAnswer: "Basso",
    points: POINTS_MAP.Difficile,
  },

  {
    id: "mat-2-f-1",
    subject: "Matematica",
    grade: 2,
    difficulty: "Facile",
    type: "multiple-choice",
    question: "Quanto fa 5 + 3?",
    options: ["6", "7", "8", "9"],
    correctAnswer: "8",
    points: POINTS_MAP.Facile,
  },
  {
    id: "mat-2-f-2",
    subject: "Matematica",
    grade: 2,
    difficulty: "Facile",
    type: "multiple-choice",
    question: "Quanto fa 10 - 4?",
    options: ["5", "6", "7", "8"],
    correctAnswer: "6",
    points: POINTS_MAP.Facile,
  },
  {
    id: "mat-2-f-3",
    subject: "Matematica",
    grade: 2,
    difficulty: "Facile",
    type: "true-false",
    question: "7 è maggiore di 5.",
    correctAnswer: "true",
    points: POINTS_MAP.Facile,
  },
  {
    id: "mat-2-m-1",
    subject: "Matematica",
    grade: 2,
    difficulty: "Medio",
    type: "multiple-choice",
    question: "Quanto fa 12 + 15?",
    options: ["25", "27", "28", "30"],
    correctAnswer: "27",
    points: POINTS_MAP.Medio,
  },
  {
    id: "mat-2-m-2",
    subject: "Matematica",
    grade: 2,
    difficulty: "Medio",
    type: "multiple-choice",
    question: "Quanto fa 20 - 8?",
    options: ["10", "11", "12", "13"],
    correctAnswer: "12",
    points: POINTS_MAP.Medio,
  },
  {
    id: "mat-2-m-3",
    subject: "Matematica",
    grade: 2,
    difficulty: "Medio",
    type: "fill-blank",
    question: "Quanto fa 3 × 4?",
    correctAnswer: "12",
    points: POINTS_MAP.Medio,
  },
  {
    id: "mat-2-d-1",
    subject: "Matematica",
    grade: 2,
    difficulty: "Difficile",
    type: "multiple-choice",
    question: "Quanto fa 45 + 37?",
    options: ["80", "81", "82", "83"],
    correctAnswer: "82",
    points: POINTS_MAP.Difficile,
  },
  {
    id: "mat-2-d-2",
    subject: "Matematica",
    grade: 2,
    difficulty: "Difficile",
    type: "multiple-choice",
    question: "Quanto fa 50 - 23?",
    options: ["25", "26", "27", "28"],
    correctAnswer: "27",
    points: POINTS_MAP.Difficile,
  },

  {
    id: "eng-2-f-1",
    subject: "Inglese",
    grade: 2,
    difficulty: "Facile",
    type: "multiple-choice",
    question: "Come si dice 'cane' in inglese?",
    options: ["Cat", "Dog", "Bird", "Fish"],
    correctAnswer: "Dog",
    points: POINTS_MAP.Facile,
  },
  {
    id: "eng-2-f-2",
    subject: "Inglese",
    grade: 2,
    difficulty: "Facile",
    type: "multiple-choice",
    question: "Come si dice 'rosso' in inglese?",
    options: ["Blue", "Green", "Red", "Yellow"],
    correctAnswer: "Red",
    points: POINTS_MAP.Facile,
  },
  {
    id: "eng-2-f-3",
    subject: "Inglese",
    grade: 2,
    difficulty: "Facile",
    type: "true-false",
    question: "'Apple' significa 'mela' in italiano.",
    correctAnswer: "true",
    points: POINTS_MAP.Facile,
  },
  {
    id: "eng-2-m-1",
    subject: "Inglese",
    grade: 2,
    difficulty: "Medio",
    type: "multiple-choice",
    question: "Come si dice 'buongiorno' in inglese?",
    options: ["Good night", "Good morning", "Good bye", "Good afternoon"],
    correctAnswer: "Good morning",
    points: POINTS_MAP.Medio,
  },
  {
    id: "eng-2-m-2",
    subject: "Inglese",
    grade: 2,
    difficulty: "Medio",
    type: "multiple-choice",
    question: "Qual è il plurale di 'cat'?",
    options: ["Cats", "Cates", "Caties", "Catses"],
    correctAnswer: "Cats",
    points: POINTS_MAP.Medio,
  },
  {
    id: "eng-2-m-3",
    subject: "Inglese",
    grade: 2,
    difficulty: "Medio",
    type: "fill-blank",
    question: "I ____ a student. (sono)",
    correctAnswer: "am",
    points: POINTS_MAP.Medio,
  },
  {
    id: "eng-2-d-1",
    subject: "Inglese",
    grade: 2,
    difficulty: "Difficile",
    type: "multiple-choice",
    question: "Quale frase è corretta?",
    options: [
      "She have a book",
      "She has a book",
      "She haves a book",
      "She having a book",
    ],
    correctAnswer: "She has a book",
    points: POINTS_MAP.Difficile,
  },
  {
    id: "eng-2-d-2",
    subject: "Inglese",
    grade: 2,
    difficulty: "Difficile",
    type: "multiple-choice",
    question: "Come si dice 'farfalla' in inglese?",
    options: ["Butterfly", "Dragonfly", "Firefly", "Ladybug"],
    correctAnswer: "Butterfly",
    points: POINTS_MAP.Difficile,
  },
];

export function getChallengesByFilters(
  subject: Subject,
  difficulty: Difficulty,
): Challenge[] {
  return challenges.filter(
    (c) => c.subject === subject && c.difficulty === difficulty,
  );
}

export function getRandomChallenge(
  subject: Subject,
  difficulty: Difficulty,
): Challenge | null {
  const filtered = getChallengesByFilters(subject, difficulty);
  if (filtered.length === 0) return null;
  const randomIndex = Math.floor(Math.random() * filtered.length);
  return filtered[randomIndex];
}

export function getChallengeById(id: string): Challenge | null {
  return challenges.find((c) => c.id === id) || null;
}
